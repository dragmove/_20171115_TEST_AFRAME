/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 5);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (immutable) */ __webpack_exports__[\"b\"] = fail;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ObservableSocket; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_aid_js__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_aid_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_aid_js__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*eslint no-unused-vars: \"off\"*/\n\n\n\n\nvar not = __WEBPACK_IMPORTED_MODULE_1_aid_js___default.a.not,\n    isDefined = __WEBPACK_IMPORTED_MODULE_1_aid_js___default.a.isDefined,\n    isFunction = __WEBPACK_IMPORTED_MODULE_1_aid_js___default.a.isFunction;\n\nfunction fail(message) {\n  return __WEBPACK_IMPORTED_MODULE_0_rxjs__[\"Observable\"].throw({ clientMessage: message });\n}\n\nvar ObservableSocket = function () {\n  function ObservableSocket(socket) {\n    var _this = this;\n\n    _classCallCheck(this, ObservableSocket);\n\n    // use client side, server side\n    this._socket = socket;\n\n    this._state = {\n      // isConnected: true/false\n      // isReconnecting: true/false\n      // attempt: Number\n    };\n\n    this._actionCallbacks = {};\n    this._requests = {};\n    this._nextRequestId = 0;\n\n    this.status$ = __WEBPACK_IMPORTED_MODULE_0_rxjs__[\"Observable\"].merge(this.on$('connect').map(function () {\n      return {\n        isConnected: true\n      };\n    }), this.on$('disconnect').map(function (reason) {\n      return {\n        isConnected: false\n      };\n    }), this.on$('reconnecting').map(function (attempt) {\n      return {\n        isConnected: false,\n        isReconnecting: true,\n        attempt: attempt\n      };\n    }), this.on$('reconnect_failed').map(function () {\n      return {\n        isConnected: false,\n        isReconnecting: false\n      };\n    })).publishReplay(1).refCount();\n\n    this.status$.subscribe(function (state) {\n      console.log('stats$ state :', state);\n\n      return _this._state = state;\n    });\n  }\n\n  _createClass(ObservableSocket, [{\n    key: 'on$',\n    value: function on$(event) {\n      return __WEBPACK_IMPORTED_MODULE_0_rxjs__[\"Observable\"].fromEvent(this._socket, event);\n    }\n  }, {\n    key: 'on',\n    value: function on(event, callback) {\n      this._socket.on(event, callback);\n    }\n  }, {\n    key: 'off',\n    value: function off(event, callback) {\n      this._socket.off(event, callback);\n    }\n  }, {\n    key: 'emit',\n    value: function emit(event, arg) {\n      this._socket.emit(event, arg);\n    }\n\n    // on (server side)\n\n  }, {\n    key: 'onAction',\n    value: function onAction(action, callback) {\n      var _this2 = this;\n\n      this._socket.on(action, function (arg, requestId) {\n        console.log('onAction action, arg, requestId :', action, arg, requestId);\n\n        try {\n          var value = callback(arg);\n          console.log('onAction value :', value);\n\n          if (!value) {\n            console.log('onAction !value. emit action to client side.');\n\n            _this2._socket.emit(action, null, requestId);\n\n            return;\n          }\n\n          if (not(isFunction)(value.subscribe)) {\n            console.log('onAction value.subscribe is not function. emit action to client side.');\n\n            _this2._socket.emit(action, value, requestId);\n\n            return;\n          }\n\n          var hasValue = false;\n\n          value.subscribe({\n            next: function next(item) {\n              console.log('next item :', item);\n\n              if (hasValue) {\n                throw new Error('Action ' + action + ' produced more than one value.');\n              }\n\n              _this2._socket.emit(action, item, requestId);\n\n              hasValue = true;\n            },\n\n            error: function error(_error) {\n              console.error('error item :', _error.stack || _error);\n\n              _this2._emitError(action, requestId, _error);\n\n              console.error(_error.stack || _error);\n            },\n\n            complete: function complete() {\n              console.log('complete');\n\n              if (!hasValue) {\n                _this2._socket.emit(action, null, requestId);\n              }\n            }\n          });\n        } catch (error) {\n          if (not(isDefined)(requestId)) {\n            _this2._emitError(action, requestId, error);\n          }\n\n          console.error(error.stack || error);\n        }\n      });\n    }\n  }, {\n    key: 'onActions',\n    value: function onActions(actions) {\n      for (var action in actions) {\n        if (!actions.hasOwnProperty(action)) {\n          console.log('onActions: try repeat ' + action);\n          continue;\n        }\n\n        this.onAction(action, actions[action]);\n      }\n    }\n  }, {\n    key: '_emitError',\n    value: function _emitError(action, requestId, error) {\n      console.log('_emitError action, requestId, error :', action, requestId, error);\n\n      // TODO\n    }\n\n    // call from client side.\n\n  }, {\n    key: 'emitAction$',\n    value: function emitAction$(action, arg) {\n      console.log('emitAction$(action, arg) :', action, arg);\n\n      var id = this._nextRequestId++;\n\n      this._registerCallbacks(action);\n\n      var subject = this._requests[id] = new __WEBPACK_IMPORTED_MODULE_0_rxjs__[\"ReplaySubject\"](1);\n\n      this._socket.emit(action, arg, id);\n\n      return subject;\n    }\n  }, {\n    key: '_registerCallbacks',\n    value: function _registerCallbacks(action) {\n      var _this3 = this;\n\n      if (this._actionCallbacks.hasOwnProperty(action)) return;\n\n      this._socket.on(action, function (arg, id) {\n        console.log('_registerCallbacks action, arg, id :', action, arg, id);\n\n        var request = _this3._popRequest(id);\n        if (!request) return;\n\n        console.log('request :', request);\n\n        request.next(arg);\n        request.complete();\n      });\n\n      this._socket.on(action + ':fail', function (arg, id) {\n        console.log('_registerCallbacks action:fail, arg, id :', action + ':fail', arg, id);\n\n        var request = _this3._popRequest(id);\n        if (!request) return;\n\n        request.error(arg);\n      });\n\n      this._actionCallbacks[action] = true;\n    }\n  }, {\n    key: '_popRequest',\n    value: function _popRequest(id) {\n      if (!this._requests.hasOwnProperty(id)) {\n        console.error('Event with id ' + id + ' was returned twice, or the server did not send back an id');\n        return;\n      }\n\n      var request = this._requests[id];\n\n      delete this._requests[id];\n\n      return request;\n    }\n  }]);\n\n  return ObservableSocket;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2hhcmVkL29ic2VydmFibGUtc29ja2V0LmpzPzkyMmYiXSwibmFtZXMiOlsibm90IiwiYWlkIiwiaXNEZWZpbmVkIiwiaXNGdW5jdGlvbiIsImZhaWwiLCJtZXNzYWdlIiwiT2JzZXJ2YWJsZSIsInRocm93IiwiY2xpZW50TWVzc2FnZSIsIk9ic2VydmFibGVTb2NrZXQiLCJzb2NrZXQiLCJfc29ja2V0IiwiX3N0YXRlIiwiX2FjdGlvbkNhbGxiYWNrcyIsIl9yZXF1ZXN0cyIsIl9uZXh0UmVxdWVzdElkIiwic3RhdHVzJCIsIm1lcmdlIiwib24kIiwibWFwIiwiaXNDb25uZWN0ZWQiLCJyZWFzb24iLCJhdHRlbXB0IiwiaXNSZWNvbm5lY3RpbmciLCJwdWJsaXNoUmVwbGF5IiwicmVmQ291bnQiLCJzdWJzY3JpYmUiLCJzdGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJldmVudCIsImZyb21FdmVudCIsImNhbGxiYWNrIiwib24iLCJvZmYiLCJhcmciLCJlbWl0IiwiYWN0aW9uIiwicmVxdWVzdElkIiwidmFsdWUiLCJoYXNWYWx1ZSIsIm5leHQiLCJpdGVtIiwiRXJyb3IiLCJlcnJvciIsInN0YWNrIiwiX2VtaXRFcnJvciIsImNvbXBsZXRlIiwiYWN0aW9ucyIsImhhc093blByb3BlcnR5Iiwib25BY3Rpb24iLCJpZCIsIl9yZWdpc3RlckNhbGxiYWNrcyIsInN1YmplY3QiLCJyZXF1ZXN0IiwiX3BvcFJlcXVlc3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7QUFFQTtBQUNBOztBQUVBLElBQU1BLE1BQU0sOENBQUFDLENBQUlELEdBQWhCO0FBQUEsSUFDRUUsWUFBWSw4Q0FBQUQsQ0FBSUMsU0FEbEI7QUFBQSxJQUVFQyxhQUFhLDhDQUFBRixDQUFJRSxVQUZuQjs7QUFJTyxTQUFTQyxJQUFULENBQWNDLE9BQWQsRUFBdUI7QUFDNUIsU0FBTyxnREFBQUMsQ0FBV0MsS0FBWCxDQUFpQixFQUFDQyxlQUFlSCxPQUFo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LENBQWhCOztBQUVBLGFBQU8sS0FBS3JDLFNBQUwsQ0FBZXFDLEVBQWYsQ0FBUDs7QUFFQSxhQUFPRyxPQUFQO0FBQ0Q7QUE3TUg7O0FBQUE7QUFBQSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyplc2xpbnQgbm8tdW51c2VkLXZhcnM6IFwib2ZmXCIqL1xuXG5pbXBvcnQge09ic2VydmFibGUsIFJlcGxheVN1YmplY3R9IGZyb20gJ3J4anMnO1xuaW1wb3J0IGFpZCBmcm9tICdhaWQuanMnO1xuXG5jb25zdCBub3QgPSBhaWQubm90LFxuICBpc0RlZmluZWQgPSBhaWQuaXNEZWZpbmVkLFxuICBpc0Z1bmN0aW9uID0gYWlkLmlzRnVuY3Rpb247XG5cbmV4cG9ydCBmdW5jdGlvbiBmYWlsKG1lc3NhZ2UpIHtcbiAgcmV0dXJuIE9ic2VydmFibGUudGhyb3coe2NsaWVudE1lc3NhZ2U6IG1lc3NhZ2V9KTtcbn1cblxuZXhwb3J0IGNsYXNzIE9ic2VydmFibGVTb2NrZXQge1xuICBjb25zdHJ1Y3Rvcihzb2NrZXQpIHtcbiAgICAvLyB1c2UgY2xpZW50IHNpZGUsIHNlcnZlciBzaWRlXG4gICAgdGhpcy5fc29ja2V0ID0gc29ja2V0O1xuXG4gICAgdGhpcy5fc3RhdGUgPSB7XG4gICAgICAvLyBpc0Nvbm5lY3RlZDogdHJ1ZS9mYWxzZVxuICAgICAgLy8gaXNSZWNvbm5lY3Rpbmc6IHRydWUvZmFsc2VcbiAgICAgIC8vIGF0dGVtcHQ6IE51bWJlclxuICAgIH07XG5cbiAgICB0aGlzLl9hY3Rpb25DYWxsYmFja3MgPSB7fTtcbiAgICB0aGlzLl9yZXF1ZXN0cyA9IHt9O1xuICAgIHRoaXMuX25leHRSZXF1ZXN0SWQgPSAwO1xuXG4gICAgdGhpcy5zdGF0dXMkID0gT2JzZXJ2YWJsZS5tZXJnZShcbiAgICAgIHRoaXMub24kKCdjb25uZWN0JykubWFwKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpc0Nvbm5lY3RlZDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfSksXG5cbiAgICAgIHRoaXMub24kKCdkaXNjb25uZWN0JykubWFwKChyZWFzb24pID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuXG4gICAgICB0aGlzLm9uJCgncmVjb25uZWN0aW5nJykubWFwKChhdHRlbXB0KSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgIGlzUmVjb25uZWN0aW5nOiB0cnVlLFxuICAgICAgICAgIGF0dGVtcHRcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuXG4gICAgICB0aGlzLm9uJCgncmVjb25uZWN0X2ZhaWxlZCcpLm1hcCgoKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgIGlzUmVjb25uZWN0aW5nOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgfSkpXG4gICAgICAucHVibGlzaFJlcGxheSgxKVxuICAgICAgLnJlZkNvdW50KCk7XG5cbiAgICB0aGlzLnN0YXR1cyQuc3Vic2NyaWJlKChzdGF0ZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3N0YXRzJCBzdGF0ZSA6Jywgc3RhdGUpO1xuXG4gICAgICByZXR1cm4gdGhpcy5fc3RhdGUgPSBzdGF0ZTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uJChldmVudCkge1xuICAgIHJldHVybiBPYnNlcnZhYmxlLmZyb21FdmVudCh0aGlzLl9zb2NrZXQsIGV2ZW50KTtcbiAgfVxuXG4gIG9uKGV2ZW50LCBjYWxsYmFjaykge1xuICAgIHRoaXMuX3NvY2tldC5vbihldmVudCwgY2FsbGJhY2spO1xuICB9XG5cbiAgb2ZmKGV2ZW50LCBjYWxsYmFjaykge1xuICAgIHRoaXMuX3NvY2tldC5vZmYoZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIGVtaXQoZXZlbnQsIGFyZykge1xuICAgIHRoaXMuX3NvY2tldC5lbWl0KGV2ZW50LCBhcmcpO1xuICB9XG5cbiAgLy8gb24gKHNlcnZlciBzaWRlKVxuICBvbkFjdGlvbihhY3Rpb24sIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fc29ja2V0Lm9uKGFjdGlvbiwgKGFyZywgcmVxdWVzdElkKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnb25BY3Rpb24gYWN0aW9uLCBhcmcsIHJlcXVlc3RJZCA6JywgYWN0aW9uLCBhcmcsIHJlcXVlc3RJZCk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gY2FsbGJhY2soYXJnKTtcbiAgICAgICAgY29uc29sZS5sb2coJ29uQWN0aW9uIHZhbHVlIDonLCB2YWx1ZSk7XG5cbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdvbkFjdGlvbiAhdmFsdWUuIGVtaXQgYWN0aW9uIHRvIGNsaWVudCBzaWRlLicpO1xuXG4gICAgICAgICAgdGhpcy5fc29ja2V0LmVtaXQoYWN0aW9uLCBudWxsLCByZXF1ZXN0SWQpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5vdChpc0Z1bmN0aW9uKSh2YWx1ZS5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ29uQWN0aW9uIHZhbHVlLnN1YnNjcmliZSBpcyBub3QgZnVuY3Rpb24uIGVtaXQgYWN0aW9uIHRvIGNsaWVudCBzaWRlLicpO1xuXG4gICAgICAgICAgdGhpcy5fc29ja2V0LmVtaXQoYWN0aW9uLCB2YWx1ZSwgcmVxdWVzdElkKTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoYXNWYWx1ZSA9IGZhbHNlO1xuXG4gICAgICAgIHZhbHVlLnN1YnNjcmliZSh7XG4gICAgICAgICAgbmV4dDogKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCduZXh0IGl0ZW0gOicsIGl0ZW0pO1xuXG4gICAgICAgICAgICBpZihoYXNWYWx1ZSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFjdGlvbiAke2FjdGlvbn0gcHJvZHVjZWQgbW9yZSB0aGFuIG9uZSB2YWx1ZS5gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc29ja2V0LmVtaXQoYWN0aW9uLCBpdGVtLCByZXF1ZXN0SWQpO1xuXG4gICAgICAgICAgICBoYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGVycm9yOiAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Vycm9yIGl0ZW0gOicsIGVycm9yLnN0YWNrIHx8IGVycm9yKTtcblxuICAgICAgICAgICAgdGhpcy5fZW1pdEVycm9yKGFjdGlvbiwgcmVxdWVzdElkLCBlcnJvcik7XG5cbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3Iuc3RhY2sgfHwgZXJyb3IpO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NvbXBsZXRlJyk7XG5cbiAgICAgICAgICAgIGlmKCFoYXNWYWx1ZSkge1xuICAgICAgICAgICAgICB0aGlzLl9zb2NrZXQuZW1pdChhY3Rpb24sIG51bGwsIHJlcXVlc3RJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKG5vdChpc0RlZmluZWQpKHJlcXVlc3RJZCkpIHtcbiAgICAgICAgICB0aGlzLl9lbWl0RXJyb3IoYWN0aW9uLCByZXF1ZXN0SWQsIGVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3Iuc3RhY2sgfHwgZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb25BY3Rpb25zKGFjdGlvbnMpIHtcbiAgICBmb3IgKGxldCBhY3Rpb24gaW4gYWN0aW9ucykge1xuICAgICAgaWYoIWFjdGlvbnMuaGFzT3duUHJvcGVydHkoYWN0aW9uKSkge1xuICAgICAgICBjb25zb2xlLmxvZyhgb25BY3Rpb25zOiB0cnkgcmVwZWF0ICR7YWN0aW9ufWApO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5vbkFjdGlvbihhY3Rpb24sIGFjdGlvbnNbYWN0aW9uXSk7XG4gICAgfVxuICB9XG5cbiAgX2VtaXRFcnJvcihhY3Rpb24sIHJlcXVlc3RJZCwgZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZygnX2VtaXRFcnJvciBhY3Rpb24sIHJlcXVlc3RJZCwgZXJyb3IgOicsIGFjdGlvbiwgcmVxdWVzdElkLCBlcnJvcik7XG5cbiAgICAvLyBUT0RPXG4gIH1cblxuICAvLyBjYWxsIGZyb20gY2xpZW50IHNpZGUuXG4gIGVtaXRBY3Rpb24kKGFjdGlvbiwgYXJnKSB7XG4gICAgY29uc29sZS5sb2coJ2VtaXRBY3Rpb24kKGFjdGlvbiwgYXJnKSA6JywgYWN0aW9uLCBhcmcpO1xuXG4gICAgY29uc3QgaWQgPSB0aGlzLl9uZXh0UmVxdWVzdElkKys7XG5cbiAgICB0aGlzLl9yZWdpc3RlckNhbGxiYWNrcyhhY3Rpb24pO1xuXG4gICAgY29uc3Qgc3ViamVjdCA9IHRoaXMuX3JlcXVlc3RzW2lkXSA9IG5ldyBSZXBsYXlTdWJqZWN0KDEpO1xuXG4gICAgdGhpcy5fc29ja2V0LmVtaXQoYWN0aW9uLCBhcmcsIGlkKTtcblxuICAgIHJldHVybiBzdWJqZWN0O1xuICB9XG5cbiAgX3JlZ2lzdGVyQ2FsbGJhY2tzKGFjdGlvbikge1xuICAgIGlmICh0aGlzLl9hY3Rpb25DYWxsYmFja3MuaGFzT3duUHJvcGVydHkoYWN0aW9uKSkgcmV0dXJuO1xuXG4gICAgdGhpcy5fc29ja2V0Lm9uKGFjdGlvbiwgKGFyZywgaWQpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdfcmVnaXN0ZXJDYWxsYmFja3MgYWN0aW9uLCBhcmcsIGlkIDonLCBhY3Rpb24sIGFyZywgaWQpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5fcG9wUmVxdWVzdChpZCk7XG4gICAgICBpZiAoIXJlcXVlc3QpIHJldHVybjtcblxuICAgICAgY29uc29sZS5sb2coJ3JlcXVlc3QgOicsIHJlcXVlc3QpO1xuXG4gICAgICByZXF1ZXN0Lm5leHQoYXJnKTtcbiAgICAgIHJlcXVlc3QuY29tcGxldGUoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3NvY2tldC5vbihgJHthY3Rpb259OmZhaWxgLCAoYXJnLCBpZCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ19yZWdpc3RlckNhbGxiYWNrcyBhY3Rpb246ZmFpbCwgYXJnLCBpZCA6JywgYCR7YWN0aW9ufTpmYWlsYCwgYXJnLCBpZCk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLl9wb3BSZXF1ZXN0KGlkKTtcbiAgICAgIGlmICghcmVxdWVzdCkgcmV0dXJuO1xuXG4gICAgICByZXF1ZXN0LmVycm9yKGFyZyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9hY3Rpb25DYWxsYmFja3NbYWN0aW9uXSA9IHRydWU7XG4gIH1cblxuICBfcG9wUmVxdWVzdChpZCkge1xuICAgIGlmICghdGhpcy5fcmVxdWVzdHMuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFdmVudCB3aXRoIGlkICR7aWR9IHdhcyByZXR1cm5lZCB0d2ljZSwgb3IgdGhlIHNlcnZlciBkaWQgbm90IHNlbmQgYmFjayBhbiBpZGApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLl9yZXF1ZXN0c1tpZF07XG5cbiAgICBkZWxldGUgdGhpcy5fcmVxdWVzdHNbaWRdO1xuXG4gICAgcmV0dXJuIHJlcXVlc3Q7XG4gIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc2hhcmVkL29ic2VydmFibGUtc29ja2V0LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports) {

eval("module.exports = require(\"rxjs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyeGpzXCI/YzgyNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicnhqc1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInJ4anNcIlxuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, exports) {

eval("module.exports = require(\"aid.js\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJhaWQuanNcIj85YzJkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJhaWQuanNcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJhaWQuanNcIlxuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ModuleBase; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar ModuleBase = function () {\n  function ModuleBase() {\n    _classCallCheck(this, ModuleBase);\n  }\n\n  _createClass(ModuleBase, [{\n    key: 'init$',\n    value: function init$() {\n      return __WEBPACK_IMPORTED_MODULE_0_rxjs__[\"Observable\"].empty();\n    }\n  }, {\n    key: 'registerClient',\n    value: function registerClient(client) {\n      //\n    }\n  }, {\n    key: 'clientRegistered',\n    value: function clientRegistered(client) {\n      //\n    }\n  }]);\n\n  return ModuleBase;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL21vZHVsZXMvTW9kdWxlQmFzZS5qcz9hNzFlIl0sIm5hbWVzIjpbIk1vZHVsZUJhc2UiLCJPYnNlcnZhYmxlIiwiZW1wdHkiLCJjbGllbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQSxJQUFhQSxVQUFiO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQSw0QkFDVTtBQUNOLGFBQU8sZ0RBQUFDLENBQVdDLEtBQVgsRUFBUDtBQUNEO0FBSEg7QUFBQTtBQUFBLG1DQUtpQkMsTUFMakIsRUFLeUI7QUFDckI7QUFDRDtBQVBIO0FBQUE7QUFBQSxxQ0FTbUJBLE1BVG5CLEVBUzJCO0FBQ3ZCO0FBQ0Q7QUFYSDs7QUFBQTtBQUFBIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge09ic2VydmFibGV9IGZyb20gJ3J4anMnO1xuXG5leHBvcnQgY2xhc3MgTW9kdWxlQmFzZSB7XG4gIGluaXQkKCkge1xuICAgIHJldHVybiBPYnNlcnZhYmxlLmVtcHR5KCk7XG4gIH1cblxuICByZWdpc3RlckNsaWVudChjbGllbnQpIHtcbiAgICAvL1xuICB9XG5cbiAgY2xpZW50UmVnaXN0ZXJlZChjbGllbnQpIHtcbiAgICAvL1xuICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3NlcnZlci9tb2R1bGVzL01vZHVsZUJhc2UuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, exports) {

eval("module.exports = require(\"webpack\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ3ZWJwYWNrXCI/MzkzZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwid2VicGFja1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIndlYnBhY2tcIlxuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_source_map_support_register__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_source_map_support_register___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_source_map_support_register__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_chalk__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_chalk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_chalk__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_express__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_express___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_express__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_http__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_http___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_http__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_socket_io__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_socket_io___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_socket_io__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_shared_observable_socket__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__modules_users__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__modules_chat__ = __webpack_require__(12);\n\n\n\n\n\n\n\n\n\n\n\n\nvar isDevelopment = process.env.NODE_ENV !== 'production';\n\n/*\n * socket\n */\nvar app = __WEBPACK_IMPORTED_MODULE_2_express___default()();\nvar server = new __WEBPACK_IMPORTED_MODULE_3_http___default.a.Server(app);\nvar io = __WEBPACK_IMPORTED_MODULE_4_socket_io___default()(server);\n\n/*\n * client webpack\n */\nif (process.env.USE_WEBPACK === 'true') {\n  var webpackMiddleware = __webpack_require__(13),\n      webpackHotMiddleware = __webpack_require__(14),\n      webpack = __webpack_require__(4),\n      clientConfig = __webpack_require__(15);\n\n  var compiler = webpack(clientConfig(true));\n\n  app.use(webpackMiddleware(compiler, {\n    publicPath: '/build/',\n    stats: {\n      colors: true,\n      chunks: false,\n      assets: false,\n      timings: false,\n      modules: false,\n      hash: false,\n      version: false\n    }\n  }));\n\n  app.use(webpackHotMiddleware(compiler));\n\n  console.log(__WEBPACK_IMPORTED_MODULE_1_chalk___default.a.bgRed('Using Webpack Dev MiddleWare. this is for dev only.'));\n}\n\n/*\n * configuration\n */\napp.set('view engine', 'pug');\n\napp.use(__WEBPACK_IMPORTED_MODULE_2_express___default.a.static('public'));\n\nvar useExternalStyles = !isDevelopment;\n\napp.get('/', function (req, res) {\n  res.render('index', {\n    useExternalStyles: useExternalStyles\n  });\n});\n\n/*\n * modules\n */\nvar users = new __WEBPACK_IMPORTED_MODULE_6__modules_users__[\"a\" /* UsersModule */](io);\nvar chat = new __WEBPACK_IMPORTED_MODULE_7__modules_chat__[\"a\" /* ChatModule */](io, users);\n\nvar modules = [users, chat];\n\n/*\n * socket\n */\nio.on('connection', function (socket) {\n  console.log('Got connection from ' + socket.request.connection.remoteAddress);\n\n  // control event 'connect, disconnect, reconnecting, reconnect_failed'\n  var client = new __WEBPACK_IMPORTED_MODULE_5_shared_observable_socket__[\"a\" /* ObservableSocket */](socket);\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = modules[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var module = _step.value;\n\n      module.registerClient(client);\n    }\n\n    /*\n    // send msg to everyone except for a certain socket\n    // socket.broadcast.emit('hi');\n     socket.on('chat:message', function(msg) {\n      console.log('from client emit chat:message :', msg);\n       // send msg to everyone, include sender\n      io.emit('chat:message', msg);\n    });\n      socket.on('disconnect', function() {\n     console.log('user disconnected');\n      io.emit('disconnected');\n     });\n    */\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n});\n\n/*\n * start server\n */\nvar port = process.env.port || 3000;\n\nfunction startServer() {\n  server.listen(port, function () {\n    console.log('Started http server on ' + port);\n  });\n}\n\nstartServer();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL3NlcnZlci5qcz9iNTllIl0sIm5hbWVzIjpbImlzRGV2ZWxvcG1lbnQiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJhcHAiLCJleHByZXNzIiwic2VydmVyIiwiaHR0cCIsIlNlcnZlciIsImlvIiwic29ja2V0SW8iLCJVU0VfV0VCUEFDSyIsIndlYnBhY2tNaWRkbGV3YXJlIiwicmVxdWlyZSIsIndlYnBhY2tIb3RNaWRkbGV3YXJlIiwid2VicGFjayIsImNsaWVudENvbmZpZyIsImNvbXBpbGVyIiwidXNlIiwicHVibGljUGF0aCIsInN0YXRzIiwiY29sb3JzIiwiY2h1bmtzIiwiYXNzZXRzIiwidGltaW5ncyIsIm1vZHVsZXMiLCJoYXNoIiwidmVyc2lvbiIsImNvbnNvbGUiLCJsb2ciLCJjaGFsayIsImJnUmVkIiwic2V0Iiwic3RhdGljIiwidXNlRXh0ZXJuYWxTdHlsZXMiLCJnZXQiLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJ1c2VycyIsImNoYXQiLCJvbiIsInNvY2tldCIsInJlcXVlc3QiLCJjb25uZWN0aW9uIiwicmVtb3RlQWRkcmVzcyIsImNsaWVudCIsIm1vZHVsZSIsInJlZ2lzdGVyQ2xpZW50IiwicG9ydCIsInN0YXJ0U2VydmVyIiwibGlzdGVuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsSUFBTUEsZ0JBQWlCQyxRQUFRQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBaEQ7O0FBRUE7OztBQUdBLElBQU1DLE1BQU0sK0NBQUFDLEVBQVo7QUFDQSxJQUFNQyxTQUFTLElBQUksNENBQUFDLENBQUtDLE1BQVQsQ0FBZ0JKLEdBQWhCLENBQWY7QUFDQSxJQUFNSyxLQUFLLGlEQUFBQyxDQUFTSixNQUFULENBQVg7O0FBRUE7OztBQUdBLElBQUlMLFFBQVFDLEdBQVIsQ0FBWVMsV0FBWixLQUE0QixNQUFoQyxFQUF3QztBQUN0QyxNQUFNQyxvQkFBb0IsbUJBQUFDLENBQVEsRUFBUixDQUExQjtBQUFBLE1BQ0VDLHVCQUF1QixtQkFBQUQsQ0FBUSxFQUFSLENBRHpCO0FBQUEsTUFFRUUsVUFBVSxtQkFBQUYsQ0FBUSxDQUFSLENBRlo7QUFBQSxNQUdFRyxlQUFlLG1CQUFBSCxDQUFRLEVBQVIsQ0FIakI7O0FBS0EsTUFBTUksV0FBV0YsUUFBUUMsYUFBYSxJQUFiLENBQVIsQ0FBakI7O0FBRUFaLE1BQUljLEdBQUosQ0FBUU4sa0JBQWtCSyxRQUFsQixFQUE0QjtBQUNsQ0UsZ0JBQVksU0FEc0I7QUFFbENDLFdBQU87QUFDTEMsY0FBUSxJQURIO0FBRUxDLGNBQVEsS0FGSDtBQUdMQyxjQUFRLEtBSEg7QUFJTEMsZUFBUyxLQUpKO0FBS0xDLGVBQVMsS0FMSjtBQU1MQyxZQUFNLEtBTkQ7QUFPTEMsZUFBUztBQVBKO0FBRjJCLEdBQTVCLENBQVI7O0FBYUF2QixNQUFJYyxHQUFKLENBQVFKLHFCQUFxQkcsUUFBckIsQ0FBUjs7QUFFQVcsVUFBUUMsR0FBUixDQUFZLDZDQUFBQyxDQUFNQyxLQUFOLENBQVkscURBQVosQ0FBWjtBQUNEOztBQUVEOzs7QUFHQTNCLElBQUk0QixHQUFKLENBQVEsYUFBUixFQUF1QixLQUF2Qjs7QUFFQTVCLElBQUljLEdBQUosQ0FBUSwrQ0FBQWIsQ0FBUTRCLE1BQVIsQ0FBZSxRQUFmLENBQVI7O0FBRUEsSUFBTUMsb0JBQW9CLENBQUNsQyxhQUEzQjs7QUFFQUksSUFBSStCLEdBQUosQ0FBUSxHQUFSLEVBQWEsVUFBVUMsR0FBVixFQUFlQyxHQUFmLEVBQW9CO0FBQy9CQSxNQUFJQyxNQUFKLENBQVcsT0FBWCxFQUFvQjtBQUNsQko7QUFEa0IsR0FBcEI7QUFHRCxDQUpEOztBQU1BOzs7QUFHQSxJQUFNSyxRQUFRLElBQUksbUVBQUosQ0FBZ0I5QixFQUFoQixDQUFkO0FBQ0EsSUFBTStCLE9BQU8sSUFBSSxpRUFBSixDQUFlL0IsRUFBZixFQUFtQjhCLEtBQW5CLENBQWI7O0FBRUEsSUFBTWQsVUFBVSxDQUFDYyxLQUFELEVBQVFDLElBQVIsQ0FBaEI7O0FBRUE7OztBQUdBL0IsR0FBR2dDLEVBQUgsQ0FBTSxZQUFOLEVBQW9CLFVBQUNDLE1BQUQsRUFBWTtBQUM5QmQsVUFBUUMsR0FBUiwwQkFBbUNhLE9BQU9DLE9BQVAsQ0FBZUMsVUFBZixDQUEwQkMsYUFBN0Q7O0FBRUE7QUFDQSxNQUFNQyxTQUFTLElBQUksa0ZBQUosQ0FBcUJKLE1BQXJCLENBQWY7O0FBSjhCO0FBQUE7QUFBQTs7QUFBQTtBQU05Qix5QkFBa0JqQixPQUFsQiw4SEFBMkI7QUFBQSxVQUFuQnNCLE1BQW1COztBQUN6QkEsYUFBT0MsY0FBUCxDQUFzQkYsTUFBdEI7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7OztBQVY4QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBMkIvQixDQTNCRDs7QUE2QkE7OztBQUdBLElBQU1HLE9BQU9oRCxRQUFRQyxHQUFSLENBQVkrQyxJQUFaLElBQW9CLElBQWpDOztBQUVBLFNBQVNDLFdBQVQsR0FBdUI7QUFDckI1QyxTQUFPNkMsTUFBUCxDQUFjRixJQUFkLEVBQW9CLFlBQU07QUFDeEJyQixZQUFRQyxHQUFSLDZCQUFzQ29CLElBQXRDO0FBQ0QsR0FGRDtBQUdEOztBQUVEQyIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdzb3VyY2UtbWFwLXN1cHBvcnQvcmVnaXN0ZXInO1xuXG5pbXBvcnQgY2hhbGsgZnJvbSAnY2hhbGsnO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgaHR0cCBmcm9tICdodHRwJztcbmltcG9ydCBzb2NrZXRJbyBmcm9tICdzb2NrZXQuaW8nO1xuXG5pbXBvcnQge09ic2VydmFibGVTb2NrZXR9IGZyb20gJ3NoYXJlZC9vYnNlcnZhYmxlLXNvY2tldCc7XG5cbmltcG9ydCB7VXNlcnNNb2R1bGV9IGZyb20gJy4vbW9kdWxlcy91c2Vycyc7XG5pbXBvcnQge0NoYXRNb2R1bGV9IGZyb20gJy4vbW9kdWxlcy9jaGF0JztcblxuY29uc3QgaXNEZXZlbG9wbWVudCA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKTtcblxuLypcbiAqIHNvY2tldFxuICovXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5jb25zdCBzZXJ2ZXIgPSBuZXcgaHR0cC5TZXJ2ZXIoYXBwKTtcbmNvbnN0IGlvID0gc29ja2V0SW8oc2VydmVyKTtcblxuLypcbiAqIGNsaWVudCB3ZWJwYWNrXG4gKi9cbmlmIChwcm9jZXNzLmVudi5VU0VfV0VCUEFDSyA9PT0gJ3RydWUnKSB7XG4gIGNvbnN0IHdlYnBhY2tNaWRkbGV3YXJlID0gcmVxdWlyZSgnd2VicGFjay1kZXYtbWlkZGxld2FyZScpLFxuICAgIHdlYnBhY2tIb3RNaWRkbGV3YXJlID0gcmVxdWlyZSgnd2VicGFjay1ob3QtbWlkZGxld2FyZScpLFxuICAgIHdlYnBhY2sgPSByZXF1aXJlKCd3ZWJwYWNrJyksXG4gICAgY2xpZW50Q29uZmlnID0gcmVxdWlyZSgnLi4vLi4vd2VicGFjay5jbGllbnQuY29uZmlnJyk7XG5cbiAgY29uc3QgY29tcGlsZXIgPSB3ZWJwYWNrKGNsaWVudENvbmZpZyh0cnVlKSk7XG5cbiAgYXBwLnVzZSh3ZWJwYWNrTWlkZGxld2FyZShjb21waWxlciwge1xuICAgIHB1YmxpY1BhdGg6ICcvYnVpbGQvJyxcbiAgICBzdGF0czoge1xuICAgICAgY29sb3JzOiB0cnVlLFxuICAgICAgY2h1bmtzOiBmYWxzZSxcbiAgICAgIGFzc2V0czogZmFsc2UsXG4gICAgICB0aW1pbmdzOiBmYWxzZSxcbiAgICAgIG1vZHVsZXM6IGZhbHNlLFxuICAgICAgaGFzaDogZmFsc2UsXG4gICAgICB2ZXJzaW9uOiBmYWxzZVxuICAgIH1cbiAgfSkpO1xuXG4gIGFwcC51c2Uod2VicGFja0hvdE1pZGRsZXdhcmUoY29tcGlsZXIpKTtcblxuICBjb25zb2xlLmxvZyhjaGFsay5iZ1JlZCgnVXNpbmcgV2VicGFjayBEZXYgTWlkZGxlV2FyZS4gdGhpcyBpcyBmb3IgZGV2IG9ubHkuJykpO1xufVxuXG4vKlxuICogY29uZmlndXJhdGlvblxuICovXG5hcHAuc2V0KCd2aWV3IGVuZ2luZScsICdwdWcnKTtcblxuYXBwLnVzZShleHByZXNzLnN0YXRpYygncHVibGljJykpO1xuXG5jb25zdCB1c2VFeHRlcm5hbFN0eWxlcyA9ICFpc0RldmVsb3BtZW50O1xuXG5hcHAuZ2V0KCcvJywgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gIHJlcy5yZW5kZXIoJ2luZGV4Jywge1xuICAgIHVzZUV4dGVybmFsU3R5bGVzXG4gIH0pO1xufSk7XG5cbi8qXG4gKiBtb2R1bGVzXG4gKi9cbmNvbnN0IHVzZXJzID0gbmV3IFVzZXJzTW9kdWxlKGlvKTtcbmNvbnN0IGNoYXQgPSBuZXcgQ2hhdE1vZHVsZShpbywgdXNlcnMpO1xuXG5jb25zdCBtb2R1bGVzID0gW3VzZXJzLCBjaGF0XTtcblxuLypcbiAqIHNvY2tldFxuICovXG5pby5vbignY29ubmVjdGlvbicsIChzb2NrZXQpID0+IHtcbiAgY29uc29sZS5sb2coYEdvdCBjb25uZWN0aW9uIGZyb20gJHtzb2NrZXQucmVxdWVzdC5jb25uZWN0aW9uLnJlbW90ZUFkZHJlc3N9YCk7XG5cbiAgLy8gY29udHJvbCBldmVudCAnY29ubmVjdCwgZGlzY29ubmVjdCwgcmVjb25uZWN0aW5nLCByZWNvbm5lY3RfZmFpbGVkJ1xuICBjb25zdCBjbGllbnQgPSBuZXcgT2JzZXJ2YWJsZVNvY2tldChzb2NrZXQpO1xuXG4gIGZvcihsZXQgbW9kdWxlIG9mIG1vZHVsZXMpIHtcbiAgICBtb2R1bGUucmVnaXN0ZXJDbGllbnQoY2xpZW50KTtcbiAgfVxuXG4gIC8qXG4gIC8vIHNlbmQgbXNnIHRvIGV2ZXJ5b25lIGV4Y2VwdCBmb3IgYSBjZXJ0YWluIHNvY2tldFxuICAvLyBzb2NrZXQuYnJvYWRjYXN0LmVtaXQoJ2hpJyk7XG5cbiAgc29ja2V0Lm9uKCdjaGF0Om1lc3NhZ2UnLCBmdW5jdGlvbihtc2cpIHtcbiAgICBjb25zb2xlLmxvZygnZnJvbSBjbGllbnQgZW1pdCBjaGF0Om1lc3NhZ2UgOicsIG1zZyk7XG5cbiAgICAvLyBzZW5kIG1zZyB0byBldmVyeW9uZSwgaW5jbHVkZSBzZW5kZXJcbiAgICBpby5lbWl0KCdjaGF0Om1lc3NhZ2UnLCBtc2cpO1xuICB9KTtcblxuICAgc29ja2V0Lm9uKCdkaXNjb25uZWN0JywgZnVuY3Rpb24oKSB7XG4gICBjb25zb2xlLmxvZygndXNlciBkaXNjb25uZWN0ZWQnKTtcblxuICAgaW8uZW1pdCgnZGlzY29ubmVjdGVkJyk7XG4gICB9KTtcbiAgKi9cbn0pO1xuXG4vKlxuICogc3RhcnQgc2VydmVyXG4gKi9cbmNvbnN0IHBvcnQgPSBwcm9jZXNzLmVudi5wb3J0IHx8IDMwMDA7XG5cbmZ1bmN0aW9uIHN0YXJ0U2VydmVyKCkge1xuICBzZXJ2ZXIubGlzdGVuKHBvcnQsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhgU3RhcnRlZCBodHRwIHNlcnZlciBvbiAke3BvcnR9YCk7XG4gIH0pO1xufVxuXG5zdGFydFNlcnZlcigpO1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc2VydmVyL3NlcnZlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/***/ (function(module, exports) {

eval("module.exports = require(\"source-map-support/register\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzb3VyY2UtbWFwLXN1cHBvcnQvcmVnaXN0ZXJcIj9mODBiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJzb3VyY2UtbWFwLXN1cHBvcnQvcmVnaXN0ZXJcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJzb3VyY2UtbWFwLXN1cHBvcnQvcmVnaXN0ZXJcIlxuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */
/***/ (function(module, exports) {

eval("module.exports = require(\"chalk\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjaGFsa1wiPzUzZjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNoYWxrXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiY2hhbGtcIlxuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7\n");

/***/ }),
/* 8 */
/***/ (function(module, exports) {

eval("module.exports = require(\"express\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzXCI/ZDJkMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImV4cHJlc3NcIlxuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8\n");

/***/ }),
/* 9 */
/***/ (function(module, exports) {

eval("module.exports = require(\"http\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJodHRwXCI/OGU0NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiaHR0cFwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImh0dHBcIlxuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9\n");

/***/ }),
/* 10 */
/***/ (function(module, exports) {

eval("module.exports = require(\"socket.io\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzb2NrZXQuaW9cIj81MTA1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjEwLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwic29ja2V0LmlvXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwic29ja2V0LmlvXCJcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10\n");

/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return UsersModule; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_aid_js__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_aid_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_aid_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_shared_observable_socket__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ModuleBase__ = __webpack_require__(3);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*eslint quotes: [\"error\", \"single\", { \"allowTemplateLiterals\": true }]*/\n\n\n\n\n\n\nvar truthy = __WEBPACK_IMPORTED_MODULE_1_aid_js___default.a.truthy;\n\nvar AuthContext = Symbol('AuthContext');\n\nvar UsersModule = function (_ModuleBase) {\n  _inherits(UsersModule, _ModuleBase);\n\n  function UsersModule(io) {\n    _classCallCheck(this, UsersModule);\n\n    var _this = _possibleConstructorReturn(this, (UsersModule.__proto__ || Object.getPrototypeOf(UsersModule)).call(this));\n\n    _this._io = io;\n\n    _this._users = {};\n    _this._userList = [];\n\n    /*\n    this._userList = [\n      {name: 'foo', color: ''},\n      {name: 'bar', color: ''},\n      {name: 'baz', color: ''}\n    ];\n    */\n    return _this;\n  }\n\n  _createClass(UsersModule, [{\n    key: 'registerClient',\n    value: function registerClient(client) {\n      var _this2 = this;\n\n      // console.log('registerClient :', client);\n\n      // client is an instance created from new ObservableSocket(socket)\n\n      // test code\n      /*\n      let index = 0;\n      setInterval(() => {\n        const username = `New user ${index}`;\n        const user = {\n          name: username,\n          color: ''\n        };\n         client.emit('users:added', user);\n         index++;\n      }, 5000);\n      */\n\n      client.onActions({\n        'users:list': function usersList() {\n          return _this2._userList;\n        },\n\n        'auth:login': function authLogin(_ref) {\n          var name = _ref.name;\n\n          return _this2.loginClient$(client, name);\n        },\n\n        'auth:logout': function authLogout() {\n          _this2.logoutClient(client);\n        }\n      });\n\n      client.on('disconnect', function () {\n        _this2.logoutClient(client);\n      });\n    }\n  }, {\n    key: 'loginClient$',\n    value: function loginClient$(client, username) {\n      username = username.trim();\n\n      // TODO: validate\n\n      if (this._users.hasOwnProperty(username)) {\n        return Object(__WEBPACK_IMPORTED_MODULE_2_shared_observable_socket__[\"b\" /* fail */])('Username ' + username + ' is already taken.');\n      }\n\n      var auth = client[AuthContext] || (client[AuthContext] = { isLoggedIn: false });\n      console.log('auth :', auth);\n\n      if (truthy(auth.isLoggedIn)) {\n        return Object(__WEBPACK_IMPORTED_MODULE_2_shared_observable_socket__[\"b\" /* fail */])('You are already logged in.');\n      }\n\n      auth.name = username;\n      auth.color = ''; //TODO\n      auth.isLoggedIn = true;\n\n      this._userList.push(auth);\n\n      this._users[username] = client;\n\n      this._io.emit('users:added', auth);\n\n      return __WEBPACK_IMPORTED_MODULE_0_rxjs__[\"Observable\"].of(auth);\n    }\n  }, {\n    key: 'logoutClient',\n    value: function logoutClient(client) {\n      var auth = this.getUserForClient(client);\n      if (!auth) return;\n\n      var authIndex = this._userList.indexOf(auth);\n      if (authIndex >= 0) this._userList.splice(authIndex, 1);\n\n      delete this._users[auth.name];\n      delete client[AuthContext];\n\n      auth.isLoggedIn = false;\n\n      console.log('User ' + auth.name + ' logged out');\n\n      this._io.emit('users:removed', auth);\n    }\n  }, {\n    key: 'getUserForClient',\n    value: function getUserForClient(client) {\n      var auth = client[AuthContext];\n\n      if (!auth) return null;\n\n      return auth.isLoggedIn ? auth : null;\n    }\n  }]);\n\n  return UsersModule;\n}(__WEBPACK_IMPORTED_MODULE_3__ModuleBase__[\"a\" /* ModuleBase */]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL21vZHVsZXMvdXNlcnMuanM/NjkyZCJdLCJuYW1lcyI6WyJ0cnV0aHkiLCJhaWQiLCJBdXRoQ29udGV4dCIsIlN5bWJvbCIsIlVzZXJzTW9kdWxlIiwiaW8iLCJfaW8iLCJfdXNlcnMiLCJfdXNlckxpc3QiLCJjbGllbnQiLCJvbkFjdGlvbnMiLCJuYW1lIiwibG9naW5DbGllbnQkIiwibG9nb3V0Q2xpZW50Iiwib24iLCJ1c2VybmFtZSIsInRyaW0iLCJoYXNPd25Qcm9wZXJ0eSIsImZhaWwiLCJhdXRoIiwiaXNMb2dnZWRJbiIsImNvbnNvbGUiLCJsb2ciLCJjb2xvciIsInB1c2giLCJlbWl0IiwiT2JzZXJ2YWJsZSIsIm9mIiwiZ2V0VXNlckZvckNsaWVudCIsImF1dGhJbmRleCIsImluZGV4T2YiLCJzcGxpY2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQU1BLFNBQVMsOENBQUFDLENBQUlELE1BQW5COztBQUVBLElBQU1FLGNBQWNDLE9BQU8sYUFBUCxDQUFwQjs7QUFFQSxJQUFhQyxXQUFiO0FBQUE7O0FBQ0UsdUJBQVlDLEVBQVosRUFBZ0I7QUFBQTs7QUFBQTs7QUFHZCxVQUFLQyxHQUFMLEdBQVdELEVBQVg7O0FBRUEsVUFBS0UsTUFBTCxHQUFjLEVBQWQ7QUFDQSxVQUFLQyxTQUFMLEdBQWlCLEVBQWpCOztBQUVBOzs7Ozs7O0FBUmM7QUFlZjs7QUFoQkg7QUFBQTtBQUFBLG1DQWtCaUJDLE1BbEJqQixFQWtCeUI7QUFBQTs7QUFDckI7O0FBRUE7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7OztBQWVBQSxhQUFPQyxTQUFQLENBQWlCO0FBQ2Ysc0JBQWMscUJBQU07QUFDbEIsaUJBQU8sT0FBS0YsU0FBWjtBQUNELFNBSGM7O0FBS2Ysc0JBQWMseUJBQVk7QUFBQSxjQUFWRyxJQUFVLFFBQVZBLElBQVU7O0FBQ3hCLGlCQUFPLE9BQUtDLFlBQUwsQ0FBa0JILE1BQWxCLEVBQTBCRSxJQUExQixDQUFQO0FBQ0QsU0FQYzs7QUFTZix1QkFBZSxzQkFBTTtBQUNuQixpQkFBS0UsWUFBTCxDQUFrQkosTUFBbEI7QUFDRDtBQVhjLE9BQWpCOztBQWNBQSxhQUFPSyxFQUFQLENBQVUsWUFBVixFQUF3QixZQUFNO0FBQzVCLGVBQUtELFlBQUwsQ0FBa0JKLE1BQWxCO0FBQ0QsT0FGRDtBQUdEO0FBeERIO0FBQUE7QUFBQSxpQ0EwRGVBLE1BMURmLEVBMER1Qk0sUUExRHZCLEVBMERpQztBQUM3QkEsaUJBQVdBLFNBQVNDLElBQVQsRUFBWDs7QUFFQTs7QUFFQSxVQUFJLEtBQUtULE1BQUwsQ0FBWVUsY0FBWixDQUEyQkYsUUFBM0IsQ0FBSixFQUEwQztBQUN4QyxlQUFPLDhFQUFBRyxlQUFpQkgsUUFBakIsd0JBQVA7QUFDRDs7QUFFRCxVQUFNSSxPQUFPVixPQUFPUCxXQUFQLE1BQXdCTyxPQUFPUCxXQUFQLElBQXNCLEVBQUNrQixZQUFZLEtBQWIsRUFBOUMsQ0FBYjtBQUNBQyxjQUFRQyxHQUFSLENBQVksUUFBWixFQUFzQkgsSUFBdEI7O0FBRUEsVUFBSW5CLE9BQU9tQixLQUFLQyxVQUFaLENBQUosRUFBNkI7QUFDM0IsZUFBTyw4RUFBQUYsOEJBQVA7QUFDRDs7QUFFREMsV0FBS1IsSUFBTCxHQUFZSSxRQUFaO0FBQ0FJLFdBQUtJLEtBQUwsR0FBYSxFQUFiLENBakI2QixDQWlCWjtBQUNqQkosV0FBS0MsVUFBTCxHQUFrQixJQUFsQjs7QUFFQSxXQUFLWixTQUFMLENBQWVnQixJQUFmLENBQW9CTCxJQUFwQjs7QUFFQSxXQUFLWixNQUFMLENBQVlRLFFBQVosSUFBd0JOLE1BQXhCOztBQUVBLFdBQUtILEdBQUwsQ0FBU21CLElBQVQsQ0FBYyxhQUFkLEVBQTZCTixJQUE3Qjs7QUFFQSxhQUFPLGdEQUFBTyxDQUFXQyxFQUFYLENBQWNSLElBQWQsQ0FBUDtBQUNEO0FBckZIO0FBQUE7QUFBQSxpQ0F1RmVWLE1BdkZmLEVBdUZ1QjtBQUNuQixVQUFNVSxPQUFPLEtBQUtTLGdCQUFMLENBQXNCbkIsTUFBdEIsQ0FBYjtBQUNBLFVBQUcsQ0FBQ1UsSUFBSixFQUFVOztBQUVWLFVBQU1VLFlBQVksS0FBS3JCLFNBQUwsQ0FBZXNCLE9BQWYsQ0FBdUJYLElBQXZCLENBQWxCO0FBQ0EsVUFBR1UsYUFBYSxDQUFoQixFQUFtQixLQUFLckIsU0FBTCxDQUFldUIsTUFBZixDQUFzQkYsU0FBdEIsRUFBaUMsQ0FBakM7O0FBRW5CLGFBQU8sS0FBS3RCLE1BQUwsQ0FBWVksS0FBS1IsSUFBakIsQ0FBUDtBQUNBLGFBQU9GLE9BQU9QLFdBQVAsQ0FBUDs7QUFFQWlCLFdBQUtDLFVBQUwsR0FBa0IsS0FBbEI7O0FBRUFDLGNBQVFDLEdBQVIsV0FBb0JILEtBQUtSLElBQXpCOztBQUVBLFdBQUtMLEdBQUwsQ0FBU21CLElBQVQsQ0FBYyxlQUFkLEVBQStCTixJQUEvQjtBQUNEO0FBdEdIO0FBQUE7QUFBQSxxQ0F3R21CVixNQXhHbkIsRUF3RzJCO0FBQ3ZCLFVBQU1VLE9BQU9WLE9BQU9QLFdBQVAsQ0FBYjs7QUFFQSxVQUFHLENBQUNpQixJQUFKLEVBQVUsT0FBTyxJQUFQOztBQUVWLGFBQVFBLEtBQUtDLFVBQU4sR0FBb0JELElBQXBCLEdBQTJCLElBQWxDO0FBQ0Q7QUE5R0g7O0FBQUE7QUFBQSxFQUFpQywrREFBakMiLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKmVzbGludCBxdW90ZXM6IFtcImVycm9yXCIsIFwic2luZ2xlXCIsIHsgXCJhbGxvd1RlbXBsYXRlTGl0ZXJhbHNcIjogdHJ1ZSB9XSovXG5cbmltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAncnhqcyc7XG5pbXBvcnQgYWlkIGZyb20gJ2FpZC5qcyc7XG5pbXBvcnQge2ZhaWx9IGZyb20gJ3NoYXJlZC9vYnNlcnZhYmxlLXNvY2tldCc7XG5pbXBvcnQge01vZHVsZUJhc2V9IGZyb20gJy4vTW9kdWxlQmFzZSc7XG5cbmNvbnN0IHRydXRoeSA9IGFpZC50cnV0aHk7XG5cbmNvbnN0IEF1dGhDb250ZXh0ID0gU3ltYm9sKCdBdXRoQ29udGV4dCcpO1xuXG5leHBvcnQgY2xhc3MgVXNlcnNNb2R1bGUgZXh0ZW5kcyBNb2R1bGVCYXNlIHtcbiAgY29uc3RydWN0b3IoaW8pIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5faW8gPSBpbztcblxuICAgIHRoaXMuX3VzZXJzID0ge307XG4gICAgdGhpcy5fdXNlckxpc3QgPSBbXTtcblxuICAgIC8qXG4gICAgdGhpcy5fdXNlckxpc3QgPSBbXG4gICAgICB7bmFtZTogJ2ZvbycsIGNvbG9yOiAnJ30sXG4gICAgICB7bmFtZTogJ2JhcicsIGNvbG9yOiAnJ30sXG4gICAgICB7bmFtZTogJ2JheicsIGNvbG9yOiAnJ31cbiAgICBdO1xuICAgICovXG4gIH1cblxuICByZWdpc3RlckNsaWVudChjbGllbnQpIHtcbiAgICAvLyBjb25zb2xlLmxvZygncmVnaXN0ZXJDbGllbnQgOicsIGNsaWVudCk7XG5cbiAgICAvLyBjbGllbnQgaXMgYW4gaW5zdGFuY2UgY3JlYXRlZCBmcm9tIG5ldyBPYnNlcnZhYmxlU29ja2V0KHNvY2tldClcblxuICAgIC8vIHRlc3QgY29kZVxuICAgIC8qXG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBjb25zdCB1c2VybmFtZSA9IGBOZXcgdXNlciAke2luZGV4fWA7XG4gICAgICBjb25zdCB1c2VyID0ge1xuICAgICAgICBuYW1lOiB1c2VybmFtZSxcbiAgICAgICAgY29sb3I6ICcnXG4gICAgICB9O1xuXG4gICAgICBjbGllbnQuZW1pdCgndXNlcnM6YWRkZWQnLCB1c2VyKTtcblxuICAgICAgaW5kZXgrKztcbiAgICB9LCA1MDAwKTtcbiAgICAqL1xuXG4gICAgY2xpZW50Lm9uQWN0aW9ucyh7XG4gICAgICAndXNlcnM6bGlzdCc6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJMaXN0O1xuICAgICAgfSxcblxuICAgICAgJ2F1dGg6bG9naW4nOiAoe25hbWV9KSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvZ2luQ2xpZW50JChjbGllbnQsIG5hbWUpO1xuICAgICAgfSxcblxuICAgICAgJ2F1dGg6bG9nb3V0JzogKCkgPT4ge1xuICAgICAgICB0aGlzLmxvZ291dENsaWVudChjbGllbnQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY2xpZW50Lm9uKCdkaXNjb25uZWN0JywgKCkgPT4ge1xuICAgICAgdGhpcy5sb2dvdXRDbGllbnQoY2xpZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIGxvZ2luQ2xpZW50JChjbGllbnQsIHVzZXJuYW1lKSB7XG4gICAgdXNlcm5hbWUgPSB1c2VybmFtZS50cmltKCk7XG5cbiAgICAvLyBUT0RPOiB2YWxpZGF0ZVxuXG4gICAgaWYgKHRoaXMuX3VzZXJzLmhhc093blByb3BlcnR5KHVzZXJuYW1lKSkge1xuICAgICAgcmV0dXJuIGZhaWwoYFVzZXJuYW1lICR7dXNlcm5hbWV9IGlzIGFscmVhZHkgdGFrZW4uYCk7XG4gICAgfVxuXG4gICAgY29uc3QgYXV0aCA9IGNsaWVudFtBdXRoQ29udGV4dF0gfHwgKGNsaWVudFtBdXRoQ29udGV4dF0gPSB7aXNMb2dnZWRJbjogZmFsc2V9KTtcbiAgICBjb25zb2xlLmxvZygnYXV0aCA6JywgYXV0aCk7XG5cbiAgICBpZiAodHJ1dGh5KGF1dGguaXNMb2dnZWRJbikpIHtcbiAgICAgIHJldHVybiBmYWlsKGBZb3UgYXJlIGFscmVhZHkgbG9nZ2VkIGluLmApO1xuICAgIH1cblxuICAgIGF1dGgubmFtZSA9IHVzZXJuYW1lO1xuICAgIGF1dGguY29sb3IgPSAnJzsgLy9UT0RPXG4gICAgYXV0aC5pc0xvZ2dlZEluID0gdHJ1ZTtcblxuICAgIHRoaXMuX3VzZXJMaXN0LnB1c2goYXV0aCk7XG5cbiAgICB0aGlzLl91c2Vyc1t1c2VybmFtZV0gPSBjbGllbnQ7XG5cbiAgICB0aGlzLl9pby5lbWl0KCd1c2VyczphZGRlZCcsIGF1dGgpO1xuXG4gICAgcmV0dXJuIE9ic2VydmFibGUub2YoYXV0aCk7XG4gIH1cblxuICBsb2dvdXRDbGllbnQoY2xpZW50KSB7XG4gICAgY29uc3QgYXV0aCA9IHRoaXMuZ2V0VXNlckZvckNsaWVudChjbGllbnQpO1xuICAgIGlmKCFhdXRoKSByZXR1cm47XG5cbiAgICBjb25zdCBhdXRoSW5kZXggPSB0aGlzLl91c2VyTGlzdC5pbmRleE9mKGF1dGgpO1xuICAgIGlmKGF1dGhJbmRleCA+PSAwKSB0aGlzLl91c2VyTGlzdC5zcGxpY2UoYXV0aEluZGV4LCAxKTtcblxuICAgIGRlbGV0ZSB0aGlzLl91c2Vyc1thdXRoLm5hbWVdO1xuICAgIGRlbGV0ZSBjbGllbnRbQXV0aENvbnRleHRdO1xuXG4gICAgYXV0aC5pc0xvZ2dlZEluID0gZmFsc2U7XG5cbiAgICBjb25zb2xlLmxvZyhgVXNlciAke2F1dGgubmFtZX0gbG9nZ2VkIG91dGApO1xuXG4gICAgdGhpcy5faW8uZW1pdCgndXNlcnM6cmVtb3ZlZCcsIGF1dGgpO1xuICB9XG5cbiAgZ2V0VXNlckZvckNsaWVudChjbGllbnQpIHtcbiAgICBjb25zdCBhdXRoID0gY2xpZW50W0F1dGhDb250ZXh0XTtcblxuICAgIGlmKCFhdXRoKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoYXV0aC5pc0xvZ2dlZEluKSA/IGF1dGggOiBudWxsO1xuICB9XG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zZXJ2ZXIvbW9kdWxlcy91c2Vycy5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///11\n");

/***/ }),
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ChatModule; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ModuleBase__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_shared_observable_socket__ = __webpack_require__(0);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\nvar MAX_HISTORY = 100;\nvar BATCH_SIZE = 10;\n\nvar ChatModule = function (_ModuleBase) {\n  _inherits(ChatModule, _ModuleBase);\n\n  function ChatModule(io, usersModule) {\n    _classCallCheck(this, ChatModule);\n\n    var _this = _possibleConstructorReturn(this, (ChatModule.__proto__ || Object.getPrototypeOf(ChatModule)).call(this));\n\n    _this._io = io;\n    _this._users = usersModule;\n\n    _this._chatLog = [];\n    return _this;\n  }\n\n  _createClass(ChatModule, [{\n    key: 'sendMessage',\n    value: function sendMessage(user, message, type) {\n      message = message.trim();\n\n      // TODO: validate\n\n      var newMessage = {\n        user: {\n          name: user.name,\n          color: '' // user.color\n        },\n        message: message,\n        time: new Date().getTime(),\n        type: type\n      };\n\n      this._chatLog.push(newMessage);\n\n      if (this._chatLog.length >= MAX_HISTORY) {\n        this._chatLog.splice(0, BATCH_SIZE);\n      }\n\n      this._io.emit('chat:added', newMessage);\n    }\n  }, {\n    key: 'registerClient',\n    value: function registerClient(client) {\n      var _this2 = this;\n\n      client.onActions({\n        'chat:list': function chatList() {\n          return _this2._chatLog;\n        },\n\n        'chat:add': function chatAdd(_ref) {\n          var message = _ref.message,\n              type = _ref.type;\n\n          type = type || 'normal';\n\n          var user = _this2._users.getUserForClient(client);\n\n          if (!user) {\n            return Object(__WEBPACK_IMPORTED_MODULE_1_shared_observable_socket__[\"b\" /* fail */])('You must be logged in');\n          }\n\n          _this2.sendMessage(user, message, type);\n        }\n      });\n    }\n  }]);\n\n  return ChatModule;\n}(__WEBPACK_IMPORTED_MODULE_0__ModuleBase__[\"a\" /* ModuleBase */]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL21vZHVsZXMvY2hhdC5qcz8xYmJmIl0sIm5hbWVzIjpbIk1BWF9ISVNUT1JZIiwiQkFUQ0hfU0laRSIsIkNoYXRNb2R1bGUiLCJpbyIsInVzZXJzTW9kdWxlIiwiX2lvIiwiX3VzZXJzIiwiX2NoYXRMb2ciLCJ1c2VyIiwibWVzc2FnZSIsInR5cGUiLCJ0cmltIiwibmV3TWVzc2FnZSIsIm5hbWUiLCJjb2xvciIsInRpbWUiLCJEYXRlIiwiZ2V0VGltZSIsInB1c2giLCJsZW5ndGgiLCJzcGxpY2UiLCJlbWl0IiwiY2xpZW50Iiwib25BY3Rpb25zIiwiZ2V0VXNlckZvckNsaWVudCIsImZhaWwiLCJzZW5kTWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBOztBQUVBLElBQU1BLGNBQWMsR0FBcEI7QUFDQSxJQUFNQyxhQUFhLEVBQW5COztBQUVBLElBQWFDLFVBQWI7QUFBQTs7QUFDRSxzQkFBWUMsRUFBWixFQUFnQkMsV0FBaEIsRUFBNkI7QUFBQTs7QUFBQTs7QUFHM0IsVUFBS0MsR0FBTCxHQUFXRixFQUFYO0FBQ0EsVUFBS0csTUFBTCxHQUFjRixXQUFkOztBQUVBLFVBQUtHLFFBQUwsR0FBZ0IsRUFBaEI7QUFOMkI7QUFPNUI7O0FBUkg7QUFBQTtBQUFBLGdDQVVjQyxJQVZkLEVBVW9CQyxPQVZwQixFQVU2QkMsSUFWN0IsRUFVbUM7QUFDL0JELGdCQUFVQSxRQUFRRSxJQUFSLEVBQVY7O0FBRUE7O0FBRUEsVUFBTUMsYUFBYTtBQUNqQkosY0FBTTtBQUNKSyxnQkFBTUwsS0FBS0ssSUFEUDtBQUVKQyxpQkFBTyxFQUZILENBRU07QUFGTixTQURXO0FBS2pCTCxpQkFBU0EsT0FMUTtBQU1qQk0sY0FBTSxJQUFJQyxJQUFKLEdBQVdDLE9BQVgsRUFOVztBQU9qQlAsY0FBTUE7QUFQVyxPQUFuQjs7QUFVQSxXQUFLSCxRQUFMLENBQWNXLElBQWQsQ0FBbUJOLFVBQW5COztBQUVBLFVBQUksS0FBS0wsUUFBTCxDQUFjWSxNQUFkLElBQXdCbkIsV0FBNUIsRUFBeUM7QUFDdkMsYUFBS08sUUFBTCxDQUFjYSxNQUFkLENBQXFCLENBQXJCLEVBQXdCbkIsVUFBeEI7QUFDRDs7QUFFRCxXQUFLSSxHQUFMLENBQVNnQixJQUFULENBQWMsWUFBZCxFQUE0QlQsVUFBNUI7QUFDRDtBQWhDSDtBQUFBO0FBQUEsbUNBa0NpQlUsTUFsQ2pCLEVBa0N5QjtBQUFBOztBQUNyQkEsYUFBT0MsU0FBUCxDQUFpQjtBQUNmLHFCQUFhLG9CQUFNO0FBQ2pCLGlCQUFPLE9BQUtoQixRQUFaO0FBQ0QsU0FIYzs7QUFLZixvQkFBWSx1QkFBcUI7QUFBQSxjQUFuQkUsT0FBbUIsUUFBbkJBLE9BQW1CO0FBQUEsY0FBVkMsSUFBVSxRQUFWQSxJQUFVOztBQUMvQkEsaUJBQVFBLFFBQVEsUUFBaEI7O0FBRUEsY0FBTUYsT0FBTyxPQUFLRixNQUFMLENBQVlrQixnQkFBWixDQUE2QkYsTUFBN0IsQ0FBYjs7QUFFQSxjQUFJLENBQUNkLElBQUwsRUFBVztBQUNULG1CQUFPLDhFQUFBaUIsQ0FBSyx1QkFBTCxDQUFQO0FBQ0Q7O0FBRUQsaUJBQUtDLFdBQUwsQ0FBaUJsQixJQUFqQixFQUF1QkMsT0FBdkIsRUFBZ0NDLElBQWhDO0FBQ0Q7QUFmYyxPQUFqQjtBQWlCRDtBQXBESDs7QUFBQTtBQUFBLEVBQWdDLCtEQUFoQyIsImZpbGUiOiIxMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7TW9kdWxlQmFzZX0gZnJvbSAnLi9Nb2R1bGVCYXNlJztcbmltcG9ydCB7ZmFpbH0gZnJvbSAnc2hhcmVkL29ic2VydmFibGUtc29ja2V0JztcblxuY29uc3QgTUFYX0hJU1RPUlkgPSAxMDA7XG5jb25zdCBCQVRDSF9TSVpFID0gMTA7XG5cbmV4cG9ydCBjbGFzcyBDaGF0TW9kdWxlIGV4dGVuZHMgTW9kdWxlQmFzZSB7XG4gIGNvbnN0cnVjdG9yKGlvLCB1c2Vyc01vZHVsZSkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLl9pbyA9IGlvO1xuICAgIHRoaXMuX3VzZXJzID0gdXNlcnNNb2R1bGU7XG5cbiAgICB0aGlzLl9jaGF0TG9nID0gW107XG4gIH1cblxuICBzZW5kTWVzc2FnZSh1c2VyLCBtZXNzYWdlLCB0eXBlKSB7XG4gICAgbWVzc2FnZSA9IG1lc3NhZ2UudHJpbSgpO1xuXG4gICAgLy8gVE9ETzogdmFsaWRhdGVcblxuICAgIGNvbnN0IG5ld01lc3NhZ2UgPSB7XG4gICAgICB1c2VyOiB7XG4gICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgY29sb3I6ICcnIC8vIHVzZXIuY29sb3JcbiAgICAgIH0sXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICB0eXBlOiB0eXBlXG4gICAgfTtcblxuICAgIHRoaXMuX2NoYXRMb2cucHVzaChuZXdNZXNzYWdlKTtcblxuICAgIGlmICh0aGlzLl9jaGF0TG9nLmxlbmd0aCA+PSBNQVhfSElTVE9SWSkge1xuICAgICAgdGhpcy5fY2hhdExvZy5zcGxpY2UoMCwgQkFUQ0hfU0laRSk7XG4gICAgfVxuXG4gICAgdGhpcy5faW8uZW1pdCgnY2hhdDphZGRlZCcsIG5ld01lc3NhZ2UpO1xuICB9XG5cbiAgcmVnaXN0ZXJDbGllbnQoY2xpZW50KSB7XG4gICAgY2xpZW50Lm9uQWN0aW9ucyh7XG4gICAgICAnY2hhdDpsaXN0JzogKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hhdExvZztcbiAgICAgIH0sXG5cbiAgICAgICdjaGF0OmFkZCc6ICh7bWVzc2FnZSwgdHlwZX0pID0+IHtcbiAgICAgICAgdHlwZSA9ICh0eXBlIHx8ICdub3JtYWwnKTtcblxuICAgICAgICBjb25zdCB1c2VyID0gdGhpcy5fdXNlcnMuZ2V0VXNlckZvckNsaWVudChjbGllbnQpO1xuXG4gICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgIHJldHVybiBmYWlsKCdZb3UgbXVzdCBiZSBsb2dnZWQgaW4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UodXNlciwgbWVzc2FnZSwgdHlwZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc2VydmVyL21vZHVsZXMvY2hhdC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///12\n");

/***/ }),
/* 13 */
/***/ (function(module, exports) {

eval("module.exports = require(\"webpack-dev-middleware\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ3ZWJwYWNrLWRldi1taWRkbGV3YXJlXCI/NjQ1ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIndlYnBhY2stZGV2LW1pZGRsZXdhcmVcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJ3ZWJwYWNrLWRldi1taWRkbGV3YXJlXCJcbi8vIG1vZHVsZSBpZCA9IDEzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///13\n");

/***/ }),
/* 14 */
/***/ (function(module, exports) {

eval("module.exports = require(\"webpack-hot-middleware\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ3ZWJwYWNrLWhvdC1taWRkbGV3YXJlXCI/ZWU1OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIndlYnBhY2staG90LW1pZGRsZXdhcmVcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJ3ZWJwYWNrLWhvdC1taWRkbGV3YXJlXCJcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///14\n");

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

eval("var path = __webpack_require__(16),\n    webpack = __webpack_require__(4),\n    ExtractTextPlugin = __webpack_require__(17),\n    dirname = path.resolve('./');\n\nvar vendorModules = ['jquery', 'aframe', 'aframe-physics-system', 'rxjs', 'lodash', 'randomcolor'];\n\nfunction createConfig(isDebug) {\n  var devTool = isDebug ? 'eval-source-map' : 'source-map';\n\n  var externals = [],\n      plugins = [new webpack.optimize.CommonsChunkPlugin({\n    name: 'vendor',\n    filename: 'vendor.js'\n  })];\n\n  var cssLoader = {\n    test: /\\.css$/,\n    use: [{ loader: 'style-loader' }, { loader: 'css-loader' }]\n  };\n\n  var sassLoader = {\n    test: /\\.scss$/,\n    use: [{ loader: 'style-loader' }, { loader: 'css-loader' }, { loader: 'sass-loader' }]\n  };\n\n  var appEntry = ['./src/client/application.js'];\n\n  if (!isDebug) {\n    plugins.push(new webpack.optimize.UglifyJsPlugin({\n      sourceMap: true\n    }));\n\n    plugins.push(new ExtractTextPlugin('[name].css'));\n\n    // cssLoader.loader = ExtractTextPlugin.extract('style', 'css');\n    cssLoader = {\n      test: /\\.css$/,\n\n      use: ExtractTextPlugin.extract({\n        fallback: 'style-loader',\n        use: ['css-loader']\n      })\n    };\n\n    // sassLoader.loader = ExtractTextPlugin.extract('style', 'css!sass');\n    sassLoader = {\n      test: /\\.scss$/,\n\n      use: ExtractTextPlugin.extract({\n        fallback: 'style-loader',\n        use: ['css-loader', 'sass-loader']\n      })\n    };\n  } else {\n    plugins.push(new webpack.HotModuleReplacementPlugin());\n\n    appEntry.splice(0, 0, 'webpack-hot-middleware/client');\n  }\n\n  return {\n    target: 'web',\n\n    entry: {\n      application: appEntry,\n      vendor: vendorModules\n    },\n\n    output: {\n      filename: '[name].js',\n      path: path.join(dirname, 'public', 'build'),\n      publicPath: '/build/'\n    },\n\n    resolve: {\n      alias: {\n        shared: path.join(dirname, 'src', 'shared')\n      }\n    },\n\n    module: {\n      rules: [{\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        loader: 'babel-loader'\n      }, {\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        loader: 'eslint-loader'\n      }, {\n        test: /\\.(gif|png|jpg|jpeg)$/,\n        use: [{\n          loader: 'file-loader'\n        }]\n      }, {\n        test: /\\.(woff|woff2|ttf|eot|svg)$/,\n        use: [{\n          loader: 'url-loader'\n        }]\n      }, cssLoader, sassLoader]\n    },\n\n    devtool: devTool,\n\n    externals: externals,\n\n    plugins: plugins\n  };\n}\n\nmodule.exports = createConfig;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi93ZWJwYWNrLmNsaWVudC5jb25maWcuanM/YmNjNSJdLCJuYW1lcyI6WyJwYXRoIiwicmVxdWlyZSIsIndlYnBhY2siLCJFeHRyYWN0VGV4dFBsdWdpbiIsImRpcm5hbWUiLCJyZXNvbHZlIiwidmVuZG9yTW9kdWxlcyIsImNyZWF0ZUNvbmZpZyIsImlzRGVidWciLCJkZXZUb29sIiwiZXh0ZXJuYWxzIiwicGx1Z2lucyIsIm9wdGltaXplIiwiQ29tbW9uc0NodW5rUGx1Z2luIiwibmFtZSIsImZpbGVuYW1lIiwiY3NzTG9hZGVyIiwidGVzdCIsInVzZSIsImxvYWRlciIsInNhc3NMb2FkZXIiLCJhcHBFbnRyeSIsInB1c2giLCJVZ2xpZnlKc1BsdWdpbiIsInNvdXJjZU1hcCIsImV4dHJhY3QiLCJmYWxsYmFjayIsIkhvdE1vZHVsZVJlcGxhY2VtZW50UGx1Z2luIiwic3BsaWNlIiwidGFyZ2V0IiwiZW50cnkiLCJhcHBsaWNhdGlvbiIsInZlbmRvciIsIm91dHB1dCIsImpvaW4iLCJwdWJsaWNQYXRoIiwiYWxpYXMiLCJzaGFyZWQiLCJtb2R1bGUiLCJydWxlcyIsImV4Y2x1ZGUiLCJkZXZ0b29sIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBTUEsT0FBTyxtQkFBQUMsQ0FBUSxFQUFSLENBQWI7QUFBQSxJQUNFQyxVQUFVLG1CQUFBRCxDQUFRLENBQVIsQ0FEWjtBQUFBLElBRUVFLG9CQUFvQixtQkFBQUYsQ0FBUSxFQUFSLENBRnRCO0FBQUEsSUFHRUcsVUFBVUosS0FBS0ssT0FBTCxDQUFhLElBQWIsQ0FIWjs7QUFLQSxJQUFNQyxnQkFBZ0IsQ0FBQyxRQUFELEVBQVcsUUFBWCxFQUFxQix1QkFBckIsRUFBOEMsTUFBOUMsRUFBc0QsUUFBdEQsRUFBZ0UsYUFBaEUsQ0FBdEI7O0FBRUEsU0FBU0MsWUFBVCxDQUFzQkMsT0FBdEIsRUFBK0I7QUFDN0IsTUFBTUMsVUFBV0QsT0FBRCxHQUFZLGlCQUFaLEdBQWdDLFlBQWhEOztBQUVBLE1BQU1FLFlBQVksRUFBbEI7QUFBQSxNQUVFQyxVQUFVLENBQUMsSUFBSVQsUUFBUVUsUUFBUixDQUFpQkMsa0JBQXJCLENBQXdDO0FBQ2pEQyxVQUFNLFFBRDJDO0FBRWpEQyxjQUFVO0FBRnVDLEdBQXhDLENBQUQsQ0FGWjs7QUFPQSxNQUFJQyxZQUFZO0FBQ2RDLFVBQU0sUUFEUTtBQUVkQyxTQUFLLENBQ0gsRUFBQ0MsUUFBUSxjQUFULEVBREcsRUFFSCxFQUFDQSxRQUFRLFlBQVQsRUFGRztBQUZTLEdBQWhCOztBQVFBLE1BQUlDLGFBQWE7QUFDZkgsVUFBTSxTQURTO0FBRWZDLFNBQUssQ0FDSCxFQUFDQyxRQUFRLGNBQVQsRUFERyxFQUVILEVBQUNBLFFBQVEsWUFBVCxFQUZHLEVBR0gsRUFBQ0EsUUFBUSxhQUFULEVBSEc7QUFGVSxHQUFqQjs7QUFTQSxNQUFNRSxXQUFXLENBQUMsNkJBQUQsQ0FBakI7O0FBRUEsTUFBSSxDQUFDYixPQUFMLEVBQWM7QUFDWkcsWUFBUVcsSUFBUixDQUFhLElBQUlwQixRQUFRVSxRQUFSLENBQWlCVyxjQUFyQixDQUFvQztBQUMvQ0MsaUJBQVc7QUFEb0MsS0FBcEMsQ0FBYjs7QUFJQWIsWUFBUVcsSUFBUixDQUFhLElBQUluQixpQkFBSixDQUFzQixZQUF0QixDQUFiOztBQUVBO0FBQ0FhLGdCQUFZO0FBQ1ZDLFlBQU0sUUFESTs7QUFHVkMsV0FBS2Ysa0JBQWtCc0IsT0FBbEIsQ0FBMEI7QUFDN0JDLGtCQUFVLGNBRG1CO0FBRTdCUixhQUFLLENBQUMsWUFBRDtBQUZ3QixPQUExQjtBQUhLLEtBQVo7O0FBU0E7QUFDQUUsaUJBQWE7QUFDWEgsWUFBTSxTQURLOztBQUdYQyxXQUFLZixrQkFBa0JzQixPQUFsQixDQUEwQjtBQUM3QkMsa0JBQVUsY0FEbUI7QUFFN0JSLGFBQUssQ0FBQyxZQUFELEVBQWUsYUFBZjtBQUZ3QixPQUExQjtBQUhNLEtBQWI7QUFTRCxHQTNCRCxNQTJCTztBQUNMUCxZQUFRVyxJQUFSLENBQWEsSUFBSXBCLFFBQVF5QiwwQkFBWixFQUFiOztBQUVBTixhQUFTTyxNQUFULENBQWdCLENBQWhCLEVBQW1CLENBQW5CLEVBQXNCLCtCQUF0QjtBQUNEOztBQUVELFNBQU87QUFDTEMsWUFBUSxLQURIOztBQUdMQyxXQUFPO0FBQ0xDLG1CQUFhVixRQURSO0FBRUxXLGNBQVExQjtBQUZILEtBSEY7O0FBUUwyQixZQUFRO0FBQ05sQixnQkFBVSxXQURKO0FBRU5mLFlBQU1BLEtBQUtrQyxJQUFMLENBQVU5QixPQUFWLEVBQW1CLFFBQW5CLEVBQTZCLE9BQTdCLENBRkE7QUFHTitCLGtCQUFZO0FBSE4sS0FSSDs7QUFjTDlCLGFBQVM7QUFDUCtCLGFBQU87QUFDTEMsZ0JBQVFyQyxLQUFLa0MsSUFBTCxDQUFVOUIsT0FBVixFQUFtQixLQUFuQixFQUEwQixRQUExQjtBQURIO0FBREEsS0FkSjs7QUFvQkxrQyxZQUFRO0FBQ05DLGFBQU8sQ0FDTDtBQUNFdEIsY0FBTSxPQURSO0FBRUV1QixpQkFBUyxjQUZYO0FBR0VyQixnQkFBUTtBQUhWLE9BREssRUFPTDtBQUNFRixjQUFNLE9BRFI7QUFFRXVCLGlCQUFTLGNBRlg7QUFHRXJCLGdCQUFRO0FBSFYsT0FQSyxFQWFMO0FBQ0VGLGNBQU0sdUJBRFI7QUFFRUMsYUFBSyxDQUFDO0FBQ0pDLGtCQUFRO0FBREosU0FBRDtBQUZQLE9BYkssRUFvQkw7QUFDRUYsY0FBTSw2QkFEUjtBQUVFQyxhQUFLLENBQUM7QUFDSkMsa0JBQVE7QUFESixTQUFEO0FBRlAsT0FwQkssRUEyQkxILFNBM0JLLEVBNkJMSSxVQTdCSztBQURELEtBcEJIOztBQXNETHFCLGFBQVNoQyxPQXRESjs7QUF3RExDLGVBQVdBLFNBeEROOztBQTBETEMsYUFBU0E7QUExREosR0FBUDtBQTRERDs7QUFFRDJCLE9BQU9JLE9BQVAsR0FBaUJuQyxZQUFqQiIsImZpbGUiOiIxNS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyksXG4gIHdlYnBhY2sgPSByZXF1aXJlKCd3ZWJwYWNrJyksXG4gIEV4dHJhY3RUZXh0UGx1Z2luID0gcmVxdWlyZSgnZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luJyksXG4gIGRpcm5hbWUgPSBwYXRoLnJlc29sdmUoJy4vJyk7XG5cbmNvbnN0IHZlbmRvck1vZHVsZXMgPSBbJ2pxdWVyeScsICdhZnJhbWUnLCAnYWZyYW1lLXBoeXNpY3Mtc3lzdGVtJywgJ3J4anMnLCAnbG9kYXNoJywgJ3JhbmRvbWNvbG9yJ107XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbmZpZyhpc0RlYnVnKSB7XG4gIGNvbnN0IGRldlRvb2wgPSAoaXNEZWJ1ZykgPyAnZXZhbC1zb3VyY2UtbWFwJyA6ICdzb3VyY2UtbWFwJztcblxuICBjb25zdCBleHRlcm5hbHMgPSBbXSxcblxuICAgIHBsdWdpbnMgPSBbbmV3IHdlYnBhY2sub3B0aW1pemUuQ29tbW9uc0NodW5rUGx1Z2luKHtcbiAgICAgIG5hbWU6ICd2ZW5kb3InLFxuICAgICAgZmlsZW5hbWU6ICd2ZW5kb3IuanMnXG4gICAgfSldO1xuXG4gIGxldCBjc3NMb2FkZXIgPSB7XG4gICAgdGVzdDogL1xcLmNzcyQvLFxuICAgIHVzZTogW1xuICAgICAge2xvYWRlcjogJ3N0eWxlLWxvYWRlcid9LFxuICAgICAge2xvYWRlcjogJ2Nzcy1sb2FkZXInfVxuICAgIF1cbiAgfTtcblxuICBsZXQgc2Fzc0xvYWRlciA9IHtcbiAgICB0ZXN0OiAvXFwuc2NzcyQvLFxuICAgIHVzZTogW1xuICAgICAge2xvYWRlcjogJ3N0eWxlLWxvYWRlcid9LFxuICAgICAge2xvYWRlcjogJ2Nzcy1sb2FkZXInfSxcbiAgICAgIHtsb2FkZXI6ICdzYXNzLWxvYWRlcid9XG4gICAgXVxuICB9O1xuXG4gIGNvbnN0IGFwcEVudHJ5ID0gWycuL3NyYy9jbGllbnQvYXBwbGljYXRpb24uanMnXTtcblxuICBpZiAoIWlzRGVidWcpIHtcbiAgICBwbHVnaW5zLnB1c2gobmV3IHdlYnBhY2sub3B0aW1pemUuVWdsaWZ5SnNQbHVnaW4oe1xuICAgICAgc291cmNlTWFwOiB0cnVlXG4gICAgfSkpO1xuXG4gICAgcGx1Z2lucy5wdXNoKG5ldyBFeHRyYWN0VGV4dFBsdWdpbignW25hbWVdLmNzcycpKTtcblxuICAgIC8vIGNzc0xvYWRlci5sb2FkZXIgPSBFeHRyYWN0VGV4dFBsdWdpbi5leHRyYWN0KCdzdHlsZScsICdjc3MnKTtcbiAgICBjc3NMb2FkZXIgPSB7XG4gICAgICB0ZXN0OiAvXFwuY3NzJC8sXG5cbiAgICAgIHVzZTogRXh0cmFjdFRleHRQbHVnaW4uZXh0cmFjdCh7XG4gICAgICAgIGZhbGxiYWNrOiAnc3R5bGUtbG9hZGVyJyxcbiAgICAgICAgdXNlOiBbJ2Nzcy1sb2FkZXInXVxuICAgICAgfSlcbiAgICB9O1xuXG4gICAgLy8gc2Fzc0xvYWRlci5sb2FkZXIgPSBFeHRyYWN0VGV4dFBsdWdpbi5leHRyYWN0KCdzdHlsZScsICdjc3Mhc2FzcycpO1xuICAgIHNhc3NMb2FkZXIgPSB7XG4gICAgICB0ZXN0OiAvXFwuc2NzcyQvLFxuXG4gICAgICB1c2U6IEV4dHJhY3RUZXh0UGx1Z2luLmV4dHJhY3Qoe1xuICAgICAgICBmYWxsYmFjazogJ3N0eWxlLWxvYWRlcicsXG4gICAgICAgIHVzZTogWydjc3MtbG9hZGVyJywgJ3Nhc3MtbG9hZGVyJ11cbiAgICAgIH0pXG4gICAgfTtcblxuICB9IGVsc2Uge1xuICAgIHBsdWdpbnMucHVzaChuZXcgd2VicGFjay5Ib3RNb2R1bGVSZXBsYWNlbWVudFBsdWdpbigpKTtcblxuICAgIGFwcEVudHJ5LnNwbGljZSgwLCAwLCAnd2VicGFjay1ob3QtbWlkZGxld2FyZS9jbGllbnQnKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdGFyZ2V0OiAnd2ViJyxcblxuICAgIGVudHJ5OiB7XG4gICAgICBhcHBsaWNhdGlvbjogYXBwRW50cnksXG4gICAgICB2ZW5kb3I6IHZlbmRvck1vZHVsZXNcbiAgICB9LFxuXG4gICAgb3V0cHV0OiB7XG4gICAgICBmaWxlbmFtZTogJ1tuYW1lXS5qcycsXG4gICAgICBwYXRoOiBwYXRoLmpvaW4oZGlybmFtZSwgJ3B1YmxpYycsICdidWlsZCcpLFxuICAgICAgcHVibGljUGF0aDogJy9idWlsZC8nXG4gICAgfSxcblxuICAgIHJlc29sdmU6IHtcbiAgICAgIGFsaWFzOiB7XG4gICAgICAgIHNoYXJlZDogcGF0aC5qb2luKGRpcm5hbWUsICdzcmMnLCAnc2hhcmVkJylcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgbW9kdWxlOiB7XG4gICAgICBydWxlczogW1xuICAgICAgICB7XG4gICAgICAgICAgdGVzdDogL1xcLmpzJC8sXG4gICAgICAgICAgZXhjbHVkZTogL25vZGVfbW9kdWxlcy8sXG4gICAgICAgICAgbG9hZGVyOiAnYmFiZWwtbG9hZGVyJ1xuICAgICAgICB9LFxuXG4gICAgICAgIHtcbiAgICAgICAgICB0ZXN0OiAvXFwuanMkLyxcbiAgICAgICAgICBleGNsdWRlOiAvbm9kZV9tb2R1bGVzLyxcbiAgICAgICAgICBsb2FkZXI6ICdlc2xpbnQtbG9hZGVyJyxcbiAgICAgICAgfSxcblxuICAgICAgICB7XG4gICAgICAgICAgdGVzdDogL1xcLihnaWZ8cG5nfGpwZ3xqcGVnKSQvLFxuICAgICAgICAgIHVzZTogW3tcbiAgICAgICAgICAgIGxvYWRlcjogJ2ZpbGUtbG9hZGVyJ1xuICAgICAgICAgIH1dXG4gICAgICAgIH0sXG5cbiAgICAgICAge1xuICAgICAgICAgIHRlc3Q6IC9cXC4od29mZnx3b2ZmMnx0dGZ8ZW90fHN2ZykkLyxcbiAgICAgICAgICB1c2U6IFt7XG4gICAgICAgICAgICBsb2FkZXI6ICd1cmwtbG9hZGVyJ1xuICAgICAgICAgIH1dXG4gICAgICAgIH0sXG5cbiAgICAgICAgY3NzTG9hZGVyLFxuXG4gICAgICAgIHNhc3NMb2FkZXJcbiAgICAgIF1cbiAgICB9LFxuXG4gICAgZGV2dG9vbDogZGV2VG9vbCxcblxuICAgIGV4dGVybmFsczogZXh0ZXJuYWxzLFxuXG4gICAgcGx1Z2luczogcGx1Z2luc1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUNvbmZpZztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi93ZWJwYWNrLmNsaWVudC5jb25maWcuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///15\n");

/***/ }),
/* 16 */
/***/ (function(module, exports) {

eval("module.exports = require(\"path\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCI/NWIyYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhdGhcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJwYXRoXCJcbi8vIG1vZHVsZSBpZCA9IDE2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///16\n");

/***/ }),
/* 17 */
/***/ (function(module, exports) {

eval("module.exports = require(\"extract-text-webpack-plugin\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cIj81YmI1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjE3LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXCJcbi8vIG1vZHVsZSBpZCA9IDE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n");

/***/ })
/******/ ]);